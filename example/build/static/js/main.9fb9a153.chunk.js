(this["webpackJsonpreact-tenor-gif-picker-example"]=this["webpackJsonpreact-tenor-gif-picker-example"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(12)},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(6);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),i=n(2);n(11);function l(e){var t=e.photo;return r.a.createElement("img",{className:"image-item place-items-center w-full object-cover  rounded",src:t.media[0].tinygif.url,alt:t.content_description})}var s=n(1),u=n.n(s);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var d=["children","className","width","padding","active","setActive"];function f(e){var t=e.children,n=e.width,a=void 0===n?540:n,o=e.padding,c=void 0===o||o,i=e.active,l=void 0!==i&&i,s=e.setActive,m=void 0===s?function(e){}:s,f=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,d);return r.a.createElement("div",Object.assign({onClick:function(e){m(!l)},onKeyUp:function(e){"Escape"===e.key&&m(!1)},className:u()("Modal",{active:l})},f),r.a.createElement(v,{onClick:function(e){l&&e.stopPropagation()},padding:c,className:"overflow-hidden h-full",style:{maxWidth:a,width:"100%"}},t))}function v(e){var t=e.children,n=e.padding,a=void 0===n||n,o=e.style,c=void 0===o?{}:o,i=e.onClick,l=void 0===i?function(e){}:i;return r.a.createElement("div",{onClick:l,style:c,className:u()("Card rounded shadow bg-white mx-auto my-auto",{"p-4":a})},t)}function h(e){var t=e.setQuery,n=e.query,a=e.onSearch;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){try{return e.preventDefault(),a(n),Promise.resolve()}catch(e){return Promise.reject(e)}},className:"flex items-center space-x-2"},r.a.createElement("input",{className:"placeholder:italic placeholder:theme-text-subtitle-1 w-full border theme-border-default rounded-md py-2 pl-3 pr-3 focus:outline-none focus:theme-border-primary focus:ring-1 sm:text-sm",placeholder:"Search Tenor",type:"text",name:"search",value:n,onChange:function(e){return t(e.target.value)}}),r.a.createElement("button",{className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-md hover:bg-blue-700 ",type:"submit"},"Search"))))}var p=function(e,t,n,a,r){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),void 0===a&&(a=30),void 0===r&&(r=function(e){});try{var o=a,c=t;return function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status&&t(n.responseText)},n.open("GET",e,!0),n.send(null)}(t&&0!==t.length?"https://g.tenor.com/v1/search?q="+c+"&key="+e+"&limit="+o+"&pos="+n:"https://g.tenor.com/v1/trending?key="+e+"&limit="+o+"&pos="+n,(function(e){var t=JSON.parse(e);r(t)})),Promise.resolve()}catch(i){return Promise.reject(i)}};function y(e){var t=e.photo,n=e.onGifSelect,a=void 0===n?function(e){}:n;return r.a.createElement("div",{className:"group relative h-60 sm:h-44 md:h-32 w-full place-items-center object-cover cursor-pointer border theme-border-default",key:t.id,onClick:function(){return a(t)}},r.a.createElement("img",{className:"card-img place-items-center w-full object-cover h-full rounded",src:t.media[0].tinygif.url,alt:t.content_description}))}function g(e){var t=e.isLoading,n=void 0!==t&&t,a=e.isLoadingMore,o=void 0!==a&&a,c=e.photoList,i=e.total,l=e.onGifSelect,s=e.loadMore,u=r.a.useMemo((function(){return r.a.createRef()}),[]);return n?r.a.createElement("div",{className:"flex items-center justify-center h-96"},r.a.createElement(b,null)):r.a.createElement("div",{className:"Body"},c&&c.length>0&&r.a.createElement("div",{className:"TenorGifList grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 overflow-y-auto p-4",style:{maxHeight:"calc(100vh - 125px)"},ref:u,onScroll:function(){if(u.current){var e=u.current,t=e.scrollTop;e.scrollHeight-(t+e.clientHeight)<20&&s()}}},c.map((function(e){return r.a.createElement(y,{key:e.id,photo:e,onGifSelect:l})}))),Array.isArray(c)&&0===c.length&&0===i&&r.a.createElement("div",{className:"flex items-center justify-center h-96"},"No photos found"),o&&r.a.createElement("div",{className:"my-4 flex justify-center"},r.a.createElement(b,null)))}function b(){return r.a.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r.a.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.a.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))}var E=function(e){var t=e.active,n=void 0!==t&&t,a=e.initialSearchQuery,o=void 0===a?"":a,c=e.tenorAccessKey,i=e.setActive,l=void 0===i?function(e){}:i,s=e.onGifSelect,u=void 0===s?function(e){}:s;if(!n)return null;var d=r.a.useState([]),v=d[0],y=d[1],b=r.a.useState(),E=b[0],S=b[1],x=r.a.useState(!0),N=x[0],w=x[1],k=r.a.useState(""),j=k[0],A=k[1],C=r.a.useState(!1),G=C[0],L=C[1],O=r.a.useState(!1),P=O[0],M=O[1],H=r.a.useState(""),T=H[0],I=H[1];r.a.useEffect((function(){A(o),q("",o)}),[o]);var q=function(e,t,n){void 0===n&&(n=!1),G||P||!N||(""===e?L(!0):M(!0),p(c,t,e,30,(function(e){var t=e.results;if(I(e.next),"0"===e.next||0===e.results.length)w(!1);else if(t){var a=t;n||(a=[].concat(v,t)),y(a),S(t.length),w(!0)}M(!1),L(!1)})))};return r.a.createElement("div",{className:"TenorGifPicker"},r.a.createElement(f,{active:n,setActive:l,width:"640px",padding:!1,className:"theme-bg-surface"},r.a.createElement("div",{className:"h-full",style:{maxHeight:"inherit"}},r.a.createElement("div",{className:"px-4 pt-4 font-bold text-lg theme-bg-surface"}," ","Search Gif"),r.a.createElement("div",{className:"shadow p-4 theme-bg-surface"},r.a.createElement("div",{className:""},r.a.createElement(h,{onSearch:function(e){y([]),w(!0),q("",e,!0)},query:j,setQuery:A}))),r.a.createElement(g,{total:E,photoList:v,isLoading:G,isLoadingMore:P,loadMore:function(){q(T+1,j)},onGifSelect:function(e){try{var t=function(e,t){try{var n=e()}catch(a){return t(a)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve(fetch(e.media[0].tinygif.url).then((function(e){return e.blob()}))).then((function(t){u(m({},e,{blobData:t}))}))}),(function(e){console.log(e)}));return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(n){return Promise.reject(n)}}}))))},S=function(){var e=r.a.useState(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],o=r.a.useState([]),c=Object(i.a)(o,2),s=c[0],u=c[1],m=function(){for(var e=[],t=0;t<s.length;t+=3)e.push(s.slice(t,t+3));return e};return r.a.createElement("div",{className:"App container bg-gray-50"},r.a.createElement("button",{className:"SearchButton bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:function(){a(!0)}},"Search Gif"),r.a.createElement(E,{tenorAccessKey:"LIVDSRZULELA",active:n,setActive:a,initialSearchQuery:"",onGifSelect:function(e){var t=null!==s&&void 0!==s?s:[];t.push(e),u(t),a(!1),console.log(e)}}),r.a.createElement("div",{className:"image-gallery"},m().length>0&&m().map((function(e,t){return r.a.createElement("div",{key:t,className:"column"},e.map((function(e){return r.a.createElement(l,{key:e.id,photo:e})})))}))))};c.a.render(r.a.createElement(S,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.9fb9a153.chunk.js.map